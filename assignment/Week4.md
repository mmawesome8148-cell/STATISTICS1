# 통계학 4주차 정규과제

📌통계학 정규과제는 매주 정해진 분량의 『*데이터 분석가가 반드시 알아야 할 모든 것*』 을 읽고 학습하는 것입니다. 이번 주는 아래의 **Statistics_4th_TIL**에 나열된 분량을 읽고 `학습 목표`에 맞게 공부하시면 됩니다.

아래의 문제를 풀어보며 학습 내용을 점검하세요. 문제를 해결하는 과정에서 개념을 스스로 정리하고, 필요한 경우 추가자료와 교재를 다시 참고하여 보완하는 것이 좋습니다.

4주차는 `2부-데이터 분석 준비하기`를 읽고 새롭게 배운 내용을 정리해주시면 됩니다


## Statistics_4th_TIL

### 2부. 데이터 분석 준비하기

### 10. 데이터 탐색과 시각화

<!-- 10. 데이터 탐색과 시각화에서 10.1 탐색적 데이터 분석부터 10.4 비교 시각화 파트까지 진행해주시면 됩니다. -->



**(수행 인증샷은 필수입니다.)** 

<!-- 이번주는 확인 문제가 없고, 교재의 실습에 있는 부분을 따라해주시면 됩니다. 데이터셋과 참고자료는 노션의 정규과제란에 있는 깃허브를 활용해주시면 됩니다. -->



## Study ScheduleStudy Schedule

| 주차  | 공부 범위     | 완료 여부 |
| ----- | ------------- | --------- |
| 1주차 | 1부 p.2~46    | ✅         |
| 2주차 | 1부 p.47~81   | ✅         |
| 3주차 | 2부 p.82~120  | ✅         |
| 4주차 | 2부 p.121~167 | ✅         |
| 5주차 | 2부 p.168~202 | 🍽️         |
| 6주차 | 3부 p.203~250 | 🍽️         |
| 7주차 | 3부 p.251~299 | 🍽️         |

<!-- 여기까진 그대로 둬 주세요-->



---

# 1️⃣ 개념 정리 

## 10. 데이터 탐색과 시각화

```
✅ 학습 목표 :
* EDA의 목적을 설명할 수 있다.
* 주어진 데이터셋에서 이상치, 누락값, 분포 등을 식별하고 EDA 결과를 바탕으로 데이터셋의 특징을 해석할 수 있다.
* 공분산과 상관계수를 활용하여 두 변수 간의 관계를 해석할 수 있다.
* 적절한 시각화 기법을 선택하여 데이터의 특성을 효과적으로 전달할 수 있다.
```
![.](../images/w4-1.png)
- EDA와 데이터 시각화를 구별해서 생각해야. EDA에서의 시각화는 데이터를 더 효율적으로 파악하기 위함이고 데이터 시각화는 분석 결과를 공유하는 목적임. 

## 1. 탐색적 데이터 분석
- EDA: 원천 데이터를 있는 그대로 탐색하고 분석하는 기법
- 목적
    - 데이터의 형태와 척도가 분석에 알맞게 되어있는지 확인
    - 데이터의 평균, 분산, 분포, 패턴 등을 통해 데이터의 특성 파악
    - 데이터의 결측값이나 이상치 파악 및 보완
    - 변수 간의 상관관계 파악
    - 분석 목적과 방향성 점검
- 주의점: 극단적 해석 및 지나친 추론, 자의적 해석

### 1-1. 엑셀을 이용한 EDA
- EDA를 하는 가장 효과적인 방법은 데이터 샘플을 1,000개 뽑아서 변수와 설명 리스트와 함께 눈으로 살펴보는 것.
- 장점
    - 데이터의 대략적인 특성을 파악할 수 있음.
    - 잘못 입력된 데이터도 확인 가능.

### 1-2. 탐색적 데이터 분석 실습
1) 패키지 임포트
- 데이터 전처리-pandas
- 시각화 패키지-seaborn, matplotlib

2) 데이터 불러오기 및 확인: head로 데이터 샘플 확인

3) 컬럼 속성 확인
- info() 함수: 데이터에 대한 전반적인 정보를 나타냄. 
- 이 단계에서 숫자형이어야 하는 컬럼이 문자형이거나 그 반대인 경우가 아닌지 확인해야함. 
- 그리고 결측값도 꼭 확인해야함. 

4) 컬럼 통계치 확인
- 숫자형 변수들은 반드시 기술통계적 측정을 해야 함. 
- describe() 함수: 평균, 표준편차, 최대, 최솟값등을 한번에 확인 가능
- 숫자형이지만 문자형과 다름없는 컬럼은 통계치에 의미가 없으므로 빈도를 살펴보는 식의 분석을 해야.

5) 컬럼 왜도, 첨도 확인
- 변숫값 분포의 정규성이 필요한 경우, 로그변환, 정규화, 표준화등을 사용함. 
- kurtosis() 함수
+ 로그변환
    - 값이 치우쳐져 있거나 이상치가 많은 경우

+ 정규화
    - 변수 간 단위가 다를 때
    - 거리 기반 알고리즘을 사용할 때: 표준화를 통해 공정한 거리 계산 가능
    - 이상치에 민감
    - 분포 유지

+ 표준화
    - 데이터 단위가 다를 때
    - 통계 기반 모델
    - 이상치에 덜 민감
    - 정규분포에 가깝게 분포 재조정

6) 시각화를 통해 특정 변수의 분포 확인
- displot() 함수로 컬럼 분포를 시각화

7) 그룹 구분에 따른 특정 변수 분포 차이 시각화
- Violinplot(): 분포 파악에 효과적
- stripplot(): 각 관측치의 위치를 직관적으로 표현해줌. 
        

## 2. 공분산과 상관성 분석
- 타깃변수(Y)와 입력변수(X) 간 관계 살펴봐야
- 입력변수(X)끼리의 관계도 살펴봐야 -> 다중공선성 방지 가능
- 상관분석 전제 조건
    - 구간, 비율척도인 데이터 형태
    - 두 변수는 선형적 관계

### 2-1. 공분산
- 의미: 서로 공유하는 분산, 두 분산의 관계, 변수 간 상관관계를 수치화한 것
- 양수: 양의 상관관계
- 음수: 음의 상관관계
- 0: 상관관계 없음.
- 단점) 상관성이 얼마나 높은지 파악 어려움.각 변수 간의 다른 척도 기준이 반영되었기 때문.

### 2-2. 상관계수
- 공분산을 표준편차값으로 나누는 정규화를 통해 상관성 비교
- 산점도의 기울기와 상관계수는 관련없음. 기울기가 크든 작든 상관계수는 같기 때문. 
- 상관계수는 설명력을 의미함. 
- **결정계수**: 독립변수가 종속변수의 변동을 설명하는 정도, 회귀분석의 정확도를 가늠하는 기준값
- 변수 간의 관계를 평가할 때는 상관계수 뿐만 아니라 다양한 통계적 방법과 시각화 기법도 함께 사용해야.
- 산점도를 그려서 분포가 어떻게 나타나는지 확인해보는거 추천
- 변수 척도에 따른 상관분석 방법
    - Pearson correlation coefficient: 구간/비율 - 구간/비율 척도
    - Spearman's rank correlation coefficient: 서열 - 서열 척도
    - Point-biserial correlation coefficient: 구간, 비율 - 명목(2분변수/이진변수)
    - Phi coefficient: 명목(2분변수) - 명목
    - Cramer's coefficient: 명목 - 명목(2X2이상)

### 2-3. 공분산과 상관성 분석 실습
1) 패키지 임포트
2) 데이터 불러오기 및 확인
3) 산점도 행렬 시각화
- diag_kind='kde': 동일 변수의 산점도를 분포로 표현해주는 기능을 함. 분포도로 변환함으로써 정보량을 늘리는 것
4) 공분산 산출
- cov()
5) 피어슨 상관계수 산출
- corr() 함수
- drop() 함수: 사전에 수치적 의미가 없는 변수 제거하면 가독성 좋음. 
6) 상관관계 히트맵 시각화
- 직관적으로 상관성의 높고 낮음 파악 가능
7) clustermap 히트맵 시각화
- 기존 히트맵에서 상관성이 강한 변수끼리 묶어서 표현해주는 기능도 있음. 
8) clustermap 히트맵의 중복 영역 제거
: 히트맵 가독성 높이는 작업


## 3. 시간 시각화
- **시계열 데이터**: 시간 흐름에 따른 변화를 표현하는 데이터 -> 전체적인 흐름, 트렌드, 노이즈 찾기에 최적화
- **연속형 시간 시각화**: 선 그래프 형태, 시간 간격의 밀도가 높을 때, 데이터 양이 너무 많거나 변동이 심하면 트렌드나 패턴 파악이 어려울 수 있음. -> 대안: 추세선
- **추세선 그리는 방법**
    - **이동평균 방법**: 데이터의 연속적 그룹의 평균을 구하는 것.
- **분절형 시간 시각화**: 막대/점 그래프, 시간 밀도가 낮은 경우, 값들의 상대적 차이를 나타내는 것에 유리. 
    + 누적 막대그래프: 한 시점에 2개 이상의 세부 항목이 존재할 때 사용

### 3-1. 시간 시각화 실습
1) 패키지 임포트
2) 데이터 불러오기 및 확인
3) 선그래프 시각화를 위한 데이터 가공
- groupby() 함수 이용해서 집계
4) 선그래프 시각화
- rolling() 함수
5) 막대그래프 시각화를 위한 데이터 가공
6) 막대그래프 시각화
- rot옵션: 글자의 각도 
7) 누적 막대그래프 시각화를 위한 데이터 가공
- stacked = False로 주면 누적이 아니라 각 연도별로 여러 개의 막대가 나타나게 됨. 

## 4. 비교 시각화
1) **히트맵 차트**: 그룹과 비교 요소가 많을 때 효과적으로 시각화할 수 있는 방법
- 각 그룹이 어떤 요소에서 높거나 낮은 값을 가지는지, 요소 간의 관계도 파악할 수 있음. 
- 표현 방법: 하나의 변수(그룹) X N개의 각 변수에 해당하는 값들(수치형)

2)**방사형 차트**
- 하나의 차트에 하나의 그룹 시각화하는 경우
- 하나의 차트에 모든 그룹을 한번에 시각화하는 경우

3) 평행 좌표 그래프를 통한 그룹별 요소 비교 시각화
- 보다 효과적으로 표현하려면 변수별 값을 정규화해야, 가장 낮은 값은 0%로, 가장 높은 값은 100%로 변환해서 차이를 부각시키는 것. 
- 장점
    - 각 그룹의 요소병 차이 수준 파악에 용이
    - 집단적 경향성 표현에 용이

### 4-1. 비교 시각화 실습
1) 그래프 시각화를 위한 패키지 임포트
2) 데이터 불러오기 및 확인
3)히트맵 시각화를 위한 데이터 전처리
4) 팀별 요소 히트맵 시각화
5) 하나의 변숫값에 대한 히트맵 시각화를 위한 데이터 전처리
6) 하나의 변숫값에 대한 히트맵 시각화
7) 방사형 차트 시각화를 위한 데이터 전처리
- 인덱스를 초기화한 후에 방사형 차트를 시각화해야 함. 
8) 방사형 차트 시각화 
- for문을 사용해 각 팀에 대한 그래프를 그려야해서 까다로운 편. 
- 데이터 값의 범위에 따라 반지름 축 눈금 수치를 조절해줘야.
9) 평행좌표 그래프 시각화


<br>
<br>

---

# 2️⃣ 확인 과제

> **교재에 있는 실습 파트를 직접 따라 해보세요. 실습을 완료한 뒤, 결과화면(캡처 또는 코드 결과)을 첨부하여 인증해 주세요.단순 이론 암기보다, 직접 손으로 따라해보면서 실습해 보는 것이 가장 확실한 학습 방법입니다.**
>
> > **인증 예시 : 통계 프로그램 결과, 시각화 이미지 캡처 등**

![.](../images/w4-2.png)
![.](../images/w4-3.png)
![.](../images/w4-4.png)
![.](../images/w4-5.png)
![.](../images/w4-6.png)
![.](../images/w4-7.png)
![.](../images/w4-8.png)
![.](../images/w4-9.png)
![.](../images/w4-10.png)
![.](../images/w4-11.png)
![.](../images/w4-12.png)
![.](../images/w4-13.png)
![.](../images/w4-14.png)
![.](../images/w4-15.png)

~~~
인증 이미지가 없으면 과제 수행으로 인정되지 않습니다.
~~~





### 🎉 수고하셨습니다.